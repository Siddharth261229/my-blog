<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include("partials/head") %>
<link rel="stylesheet" href="/edit-styles.css" />


  </head>
  <body>
    <a href="/landing" class="home-btn"><i class="fas fa-home"></i> Home</a>
    
    <div class="container">
      <h1>Edit Post</h1>

      <!-- ‚úÖ EDIT FORM -->
      <form action="/edit/<%= post.id %>" method="POST" class="edit-mode">
        <input
          style="color: aliceblue"
          type="text"
          name="postTitle"
          value="<%= post.title %>"
          required
          class="edit-input-title"
          placeholder="Enter title"
        />
        <textarea
          style="color: aliceblue"
          name="postBody"
          class="edit-textarea-body"
          placeholder="Write your content here..."
          rows="6"
          required
        >
<%= post.content %></textarea

        >
         <!-- Action Row -->
  <div class="action-row">
    <!-- Share Buttons Left -->
    <div class="share-buttons">
      <a href="https://twitter.com/intent/tweet?text=<%= encodeURIComponent(post.title + ' - ' + post.content) %>&url=<%= encodeURIComponent('http://localhost:3000') %>" 
         target="_blank" class="share-btn twitter">Tweet</a>
      <a href="https://www.linkedin.com/sharing/share-offsite/?url=<%= encodeURIComponent('http://localhost:3000') %>" 
         target="_blank" class="share-btn linkedin">Share</a>
      <a href="https://api.whatsapp.com/send?text=<%= encodeURIComponent(post.title + ': http://localhost:3000') %>" 
         target="_blank" class="share-btn whatsapp">WhatsApp</a>
    </div>

        <!-- ‚úÖ All actions/buttons inside one container -->
        <div class="post-actions">
          <button style = "font-family: Dancing Script ;" type="submit" class="action-btn save">Save</button>
          <a style = "text-decoration: none;" href="/home" class="action-btn cancel">Cancel</a>
          <!-- Delete inside form too -->
          <button
          style = "font-family: Dancing Script ;"
            formaction="/delete/<%= post.id %>"
            formmethod="POST"
            class="action-btn delete"
          >
          Delete
          </button>
        </div>
      </form>
      
    </div>
    <h3 style ="text-align: center;">üéß Vibe while you blog</h3>
    <div class="music-player">
      
      <div class="vinyl-wrapper">
        <div class="vinyl"></div>
      </div>
      
      <a
      
      style = "text-decoration: none; background-color: none;"
        href="https://accounts.spotify.com/en/login"
        target="_blank"
        class="login-btn"
        >Spotify</a>
        <div class="horizontal-player-container">
          <button class="nav-btn" onclick="switchTrack(-1)">‚è™</button>
        
          <div id="player-frame">
            <iframe
              id="spotify-frame"
              src="https://open.spotify.com/embed/track/5expoVGQPvXuwBBFuNGqBd?utm_source=generator"
              frameborder="0"
              allow="autoplay; clipboard-write; encrypted-media;"
              loading="lazy"
            ></iframe>
          </div>
        
          <button class="nav-btn" onclick="switchTrack(1)">‚è©</button>
        </div>
        <div class="vinyl-wrapper">
          <div class="vinyl"></div>
        </div>
        </div>
      
      
      
    
  
    </div>
    <script>
      const tracks = [
      "https://open.spotify.com/embed/track/5expoVGQPvXuwBBFuNGqBd?utm_source=generator",
"https://open.spotify.com/embed/track/0hoiu4phiHzoJwhl5kutX3?utm_source=generator",
"https://open.spotify.com/embed/track/6NtVX4qwWMmAtNFaG485iq?utm_source=generator"
      ];
    
      let currentTrack = 0;
    
      function switchTrack(direction) {
        currentTrack = (currentTrack + direction + tracks.length) % tracks.length;
        document.getElementById("spotify-frame").src = tracks[currentTrack];
      }
    </script>
    
    
  </body>
  <%- include('partials/footer') %>

</html>




